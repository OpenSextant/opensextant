<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
    <link href="resources/manual.css" rel="stylesheet" type="text/css"
      media="screen">
    <link href="resources/manual-print.css" rel="stylesheet"
      type="text/css" media="print">
    <!--                         
         (c) 2007 The MITRE Corporation. All Rights Reserved.
     -->
    <!-- Each documentation file should include manual.css and manual-print.css for print media;
 and the first item in the body should be a <script> tag which loads *manual.js,
and another <script> tag which invokes the appropriate write_..._sidebar()
function from that file. -->
    <title>OpenSextant Documentation: OpenSextant Desktop</title>
  </head>
  <body>
    <!-- <div id="banner">UNCLASSIFIED</div> -->
    <script type="text/javascript" src="resources/opsx-manual.js"></script>
    <script type="text/javascript">write_user_sidebar()</script>
    <div id="wrapper-content">
      <div id="content">
        <h1>Desktop Geocoding<br>
        </h1>

        <div><p>
          OpenSextant Desktop is is Java Swing based desktop application that allows users to run the OpenSextant software to geocode documents.  This software can handle a variety of formats and will extract geocoded information from these documents and output that data to CSV, Shapefile, KML, JSON, or WKT.
          <br/><br/>
          To open the OpenSextant desktop application, double click on the OpenSextantDesktop-vx.x.jar file under the desktop/ directory in an OpenSextant release.
          <br/><br/>
          In order to run, you will need the Gazetteer Solr data.  This should be available with an OpenSextant release.
          <br/><br/>
          When the application opens, you should see the main OpenSextant Desktop window.
          <br/>
        </p></div>
        <img src="./resources/osd_images/main_window.png" width="680px"/><br/>
        <div><p>
          At the top of the main window you will find a File menu and a Help menu.  The file menu allows you to:
          <ul>
            <li>Add File(s) - Opens a file selection dialog to add files or directories for processing.</li>
            <li>Text Entry - Allows pasting text directly into an input field for processing.</li>
            <li>Configuration - Opens a configuration dialog to configure OpenSextant Desktop options.</li>
            <li>View Log - Opens a window where the execution log for OpenSextant can be viewed.</li>
            <li>Exit - Closes OpenSextant Desktop.</li>
          </ul>
        </p></div>
        <img src="./resources/osd_images/file_menu.png" width="200px"/><br/>
        <div><p>
          The help menu allows you to:
          <ul>
            <li>Help - Opens a help page.</li>
            <li>About - Provides information about OpenSextant Desktop.</li>
          </ul>
        </p></div>
        <img src="./resources/osd_images/help_menu.png" width="200px"/><br/>
        <div><p>
          <br>
          The buttons under the file and help menus are additional ways that you can access the options listed in the file menu.  These buttons from left to right are; Add Files(s), Text Entry, Configuration, and View Log.
          <br>
          <br>
          Selecting File > Text Entry opens the following dialog.  You can paste text into the input dialog and click the Add button to process the pasted text using OpenSextant Desktop.
        </p></div>
        <img src="./resources/osd_images/text_entry.png" width="400px"/><br/>
        <div><p>
          Selecting File > Configuration opens the following dialog.  This dialog provides the following configuration options:
          <ul>
            <li>Output - Options related to output formatting.
              <ul>
                <li>Path - Defines the location that output files generated by OpenSextant Desktop will be stored.</li>
                <li>Format - The output format that the output files will be generated in.</li>
              </ul>
            </li>
            <li>Extract - Options related to what will be extracted during processing.
              <ul>
                <li>Extract Geo - Defines if geographic coordinates should be extracted as part of processing.  The Geocode place names option determines if words or phrases will be identified as places then converted into their geographic coordinates.  Parse coordinate patterns determines if coordinate patterns will be identified and extracted in the processed text.</li>
                <li>Extract Time - Defines if time patterns will be extracted from the text.  Time patterns can be associated with extracted geographic information by either collapsing all times to a comma separated list and appending them to every geo row, or by associating every extracted time with every geo row producing a number of rows equal to the number of time rows multiplied by the number of geo rows.</li>
                <li>Extract Identifiers - Defines if identifier patterns will be extracted from the text.</li>
              </ul>
            </li>
            <li>Processing - Options related to processing resources.
              <ul>
                <li>Threads - The number of threads that will be used to conduct processing.  The number of threads should not be set higher than the number of available processor cores on the machine.  Also, each thread requires about 1Gb of memory, so the number of threads should not exceed the RAM of the machine in Gb.</li>
                <li>Cache Path - Defines the location where the text is stored when non-text (binary) files (pdf, doc, etc.) are converted into text format for processing.</li>
                <li>Temp Path - Defines where temporary files are stored during processing (defaults to the system Java temporary directory).</li>
              </ul>
            </li>
            <li>Logging - Options related to logging.
              <ul>
                <li>Log Level - Controls the level of detail output into the log file.</li>
              </ul>
            </li>
          </ul>        </p></div>
        <img src="./resources/osd_images/config.png" width="600px"/><br/>
        <div><p>
          Selecting File > View Log opens the following dialog.  This dialog allows you to view the execution log.<br>
        <img src="./resources/osd_images/log.png" width="500px"/><br/>
        <div><p>
          In addition to adding files or directories using the File > Add File(s) option, you can also drag files from the file system onto the Main OpenSextant window.  This will add those files for processing.
        </p></div>
        <img src="./resources/osd_images/drag.png" width="680px"/><br/>
        <div><p>
          Once files or directories have been added, they will begin processing.  There is an initialization phase that may delay the start of processing by up to a minute.  Once the initialization  has completed, processing should start automatically.  As more files are added, they will be queued behind files that are already processing and will start once resources are available.  Each job in the OpenSextant window represents one unit of processing.  A job can either be a single file or a directory.  One thread will process each job (either a single file or a directory), and each job will produce a single output file with all of the extracted geocode data.  If a directory is added to OpenSextant for processing, all the files underneath that directory (recursing multiple levels of directory hierarchy) will be processed.
        </p></div>

        <img src="./resources/osd_images/processing.png" width="680px"/><br/>
        <div><p>
          Under the actions column there are various buttons for actions that can be performed on the job.  While the jbo is processing the actions are (from left to right) cancel execution, re-run, and view results.  While the job is processing the re-run and view results buttons are disabled.  They become enabled once the job completes.  When the job completes, the cancel execution button gets replaced with the delete job button.  The following actions can be conducted on each job.
          <ul>
            <li>Cancel Execution/Delete Job - Cancels a currently running job or deletes a completed job.</li>
            <li>Delete Job - Removes a job and it's output data.</li>
            <li>Re-Run - Executes a previously executed job again.</li>
            <li>View Results - Opens the results of the execution, the execution statistics, or the identifier results.</li>
            <li>Open Output Folder - Opens the output folder containing the results of the execution.</li>
          </ul>

        </p></div>
        <img src="./resources/osd_images/processing_buttons.png" width="100px"/><br/>

        <div><p>
          With multiple results formats, the View Results button will display a dropdown list of formats to view.  The selected output formats can be updated in the Config window.
        </p></div>

        <img src="./resources/osd_images/processing_buttons_view.png" width="680px"/><br/>
        
        <div><p>
          In addition to using the action buttons individual or multiple jobs can be selected by left clicking on them.  Holding shift and clicking select will select a block of rows, and holding control and clicking will select multiple non-consecutive rows.  Also, pressing Control+a will select all the rows.  Once rows are selected, right clicking on selected rows will open a context menu.  The context menu allows you to delete/cancel jobs, re-run jobs, and view the results of jobs.
        </p></div>
        
        <img src="./resources/osd_images/right_click.png" width="680px"/><br/>
        <div><p>
          The job is complete once the progres of the job reaches 100%.  Once the job completes you can view the results of the execution.
        </p></div>
        <img src="./resources/osd_images/complete.png" width="680px"/><br/>

        <h1>GDB Output</h1>
        <div><p>
        
        In order to output GDB files, you need to install some additional packages that cannot be re-distributed with the source:
        <br/><br/>
        
        You will need msvcr90.dll.  You can get this from Microsoft from the following Visual Studio DLLs package:<br/><br/>
        <a href="http://www.microsoft.com/en-us/download/details.aspx?id=5582">http://www.microsoft.com/en-us/download/details.aspx?id=5582</a><br/>
        <br/><br/>
        Once you have downloaded this file, install it onto your system by double clicking on the executable and running through the installer.
        <br/><br/>
        You will also need to download ESRI GDB API DLLs.  You can get those from the following link.  You will need to sign up for an ESRI account but the API can be downloaded for free.<br/><br/>
        <a href="http://resources.arcgis.com/content/geodatabases/10.0/file-gdb-download">http://resources.arcgis.com/content/geodatabases/10.0/file-gdb-download</a><br/>
        <br/><br/>
        The ESRI download is a zip file.  You need to unzip the zip file into a directory on your system.  Once unzipped you need to add the bin64 directory from the zip to your windows path.
        <br/><br/>
        
        To add a path to the PATH environment variable <br>
        1. On the Start menu, right-click Computer.<br>
        2. On the context menu, click Properties.<br>
        3. In the System dialog box, click Advanced system settings.<br>
        4. On the Advanced tab of the System Properties dialog box, click Environment Variables.<br>
        5. In the System Variables box of the Environment Variables dialog box, scroll to Path and select it.<br>
        6. Click the lower of the two Edit buttons in the dialog box.<br>
        7. In the Edit System Variable dialog box, scroll to the end of the string in the Variable value box and add a semicolon (;).<br>
        8. Add the full path to bin64 directory from the unzipped ESRI package after the semicolon.<br>
        9. Click OK in three successive dialog boxes, and then close the System dialog box.<br><br>
        
        Once you have added the ESRI DLLs to your path, you need to restart your system.  After the restart you should be able to output GDBs.
          
        </p></div>


        <br>
      </div>
    </div>
    <!-- DOC FOOTER STARTS -->
    <div id="footer"></div>
    <!-- DOC FOOTER ENDS-->
  </body>
</html>
